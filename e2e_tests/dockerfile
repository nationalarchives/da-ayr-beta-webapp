FROM mcr.microsoft.com/playwright/python:v1.53.0-noble

WORKDIR /e2e_tests

RUN pip install --upgrade pip wheel setuptools numpy scikit-image pillow playwright python-keycloak pytest-playwright-visual pytest-playwright pytest-html

CMD ["pytest", "-vvv", "-s", "test_visual_regression.py", "--log-cli-level=DEBUG", "--base-url=https://host.docker.internal:8000/", "--browser", "chromium", "--browser", "webkit", "--browser", "firefox", "--update-snapshots"]
